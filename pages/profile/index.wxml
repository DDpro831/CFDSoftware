<view class="container">
  <view class="card">
    <view class="section-title">个人资料</view>

    <view wx:if="{{!isLoggedIn}}" class="welcome">
      <text class="hint">使用微信快捷注册/登录，无需手机号与密码。</text>
      <button class="btn-primary" bindtap="registerByWechat">微信注册</button>
      <button class="btn-primary secondary" bindtap="loginByWechat">微信登录</button>
    </view>

    <view wx:else>
      <view class="profile-box">
        <image wx:if="{{user.avatarUrl}}" class="avatar" src="{{user.avatarUrl}}" mode="aspectFill"></image>
        <view class="profile-info">
          <view class="kv-row"><text>昵称</text><text>{{user.nickName || '微信用户'}}</text></view>
          <view class="kv-row"><text>状态</text><text>已登录</text></view>
          <view class="kv-row"><text>登录方式</text><text>微信授权</text></view>
        </view>
      </view>
      <view class="notice">当前为前端演示，后续可接入后端完成会话签发。</view>
      <button class="btn-primary secondary" bindtap="logout">退出登录</button>
    </view>
  </view>
</view>
